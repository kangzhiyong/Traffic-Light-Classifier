{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 交通信号灯分类器\n",
    "---\n",
    "\n",
    "在这个项目中，你将使用计算机视觉技术的知识为交通信号灯图像建立一个分类器！你会获得一个交通信号灯图像数据集，里面包含三种交通信号灯，即红灯、黄灯或绿灯，其中，三分之一的灯是亮起的。\n",
    "\n",
    "在该 notebook 中，你将对这些图像进行预处理，提取有助于我们区分不同类型图像的特征，并使用这些特征将交通信号灯图像分为三类：红灯、黄灯或绿灯。所有这些任务将会分解成几个部分：\n",
    "\n",
    "1. **加载和可视化数据**。\n",
    "      任何一种分类任务的第一步都是熟悉你的数据；在这里，你需要加载交通信号灯的图像并将其可视化！\n",
    "\n",
    "2. **预处理**。\n",
    "    输入的图像和输出的标签都需要是标准化的。通过这种方式，你可以使用相同的分类器分析所有输入的图像，并且知道在最终对一个*新*图像进行分类时需要输出什么样的图像。\n",
    "\n",
    "3. **特征提取**。\n",
    "    接下来，你需要从每幅图像中提取一些特征，从而帮助区分这些图像，并最终对这些图像进行分类。\n",
    "\n",
    "4. **进行分类，并将错误可视化**。\n",
    "     最后，你需要编写一个利用你提取的特征对*任何一个*交通信号灯图像进行分类的函数。该函数将输入一个图像，然后输出一个标签。你还会获得相关代码，用于确定分类模型的准确度。   \n",
    "\n",
    "5. **评估你的模型**。\n",
    "    要通过此项目，你的分类器的准确度必须 > 90％，并且不能将任何一个红灯归类为绿灯；你很可能需要通过更改现有特征或添加新特征来提高分类器的准确度。我也鼓励你多进行尝试，让准确度尽可能接近100％！\n",
    "\n",
    "以下是数据集中的一些示例图像（从左到右：红灯、绿灯与黄灯）：\n",
    "<img src=\"images/all_lights.png\" width=\"50%\" height=\"50%\">\n",
    "\n",
    "---\n",
    "### *以下是完成该项目所需了解的内容：*\n",
    "\n",
    "我们已经为你提供了一些模板代码，但你需要执行其他代码步骤才能成功完成此项目。任何一个通过此项目所需的代码的标题中都标有**'(IMPLEMENTATION)'**。在完成此项目时，你还需要回答一些关于你的思路的问题，这些问题在标题中都标有**'(QUESTION)'**。请务必回答所有问题，并根据 [项目审阅标准](https://review.udacity.com/#!/rubrics/1213/view) 检查你的代码，确保你完成了必要的几个分类步骤！\n",
    "\n",
    "你提交的项目将根据你提供的代码运行情况以及两个主要分类标准进行评估。\n",
    "提交的完整交通信号灯分类器应满足下面两个标准：\n",
    "1. **准确度超过90％**\n",
    "2. ***不要* 将任何一个红灯分类为绿灯**\n",
    "\n",
    "\n",
    "# 1. 加载交通信号灯数据集，并将其可视化\n",
    "\n",
    "这个交通信号灯数据集由3个类别1484个彩色图像组成，即红灯、黄灯和绿灯。与大多数人工获取的数据一样，该数据在这些类型之间的分布并不均匀，具体为：\n",
    "* 904个红色交通灯图像\n",
    "* 536个绿色交通灯图像\n",
    "* 44个黄色交通灯图像\n",
    "\n",
    "*注：所有图像都来自[麻省理工学院的无人驾驶课程](https://selfdrivingcars.mit.edu/)，并符合 [知识共享署名许可协议-相同方式共享 4.0 国际许可协议](https://creativecommons.org/licenses/by-sa/4.0/) 。*\n",
    "\n",
    "### 导入资源\n",
    "\n",
    "在开始编写项目代码之前，请导入你需要的库和资源。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 361,
   "metadata": {},
   "outputs": [],
   "source": [
    "import cv2 # computer vision library\n",
    "import helpers # helper functions\n",
    "\n",
    "import random\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "import matplotlib.image as mpimg # for loading in images\n",
    "\n",
    "%matplotlib inline"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 训练并测试数据\n",
    "\n",
    "所有1484个交通信号灯图像被将分成训练数据集和测试数据集。\n",
    "\n",
    "* 这些图像中的80％是训练图像，供你在创建分类器时使用。\n",
    "* 其余20％是测试图像，用于测试分类器的准确度。\n",
    "* 所有图像都是含有3种信号灯的交通灯图像，其中有一盏灯是亮起的。\n",
    "\n",
    "## 定义图像目录\n",
    "\n",
    "首先，我们设置一些变量来跟踪这些图像的存储位置："
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "metadata": {},
   "outputs": [],
   "source": [
    "#IMAGE_DIR_TRAINING: the directory where our training image data is stored\n",
    "#IMAGE_DIR_TEST: the directory where our test image data is stored\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 362,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Image data directories\n",
    "IMAGE_DIR_TRAINING = \"traffic_light_images/training/\"\n",
    "IMAGE_DIR_TEST = \"traffic_light_images/test/\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 加载数据集\n",
    "\n",
    "这些前几行代码将对训练交通信号灯图像进行加载，并将其全部存储在变量`IMAGE_LIST`中。该列表包含图像及其相关标签（“红灯”，“黄灯”，“绿灯”）。\n",
    "\n",
    "我们建议你查看helpers.py文件中的`load_dataset`函数。这个函数可以为你提供一个很好的思路，即如何使用[glob 库](https://pymotw.com/2/glob/)从一个目录中读取大量图像文件。 `load_dataset`函数可以输入图像目录的名称，然后返回图像及其相关标签的列表。\n",
    "\n",
    "例如，`IMAGE_LIST`中的第一个图像标签对可以通过索引访问："
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 363,
   "metadata": {
    "attributes": {
     "classes": [
      "IMAGE_LIST[0][:]```"
     ],
     "id": ""
    }
   },
   "outputs": [],
   "source": [
    "# Using the load_dataset function in helpers.py\n",
    "# Load training data\n",
    "IMAGE_LIST = helpers.load_dataset(IMAGE_DIR_TRAINING)\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 可视化数据\n",
    "\n",
    "分析任何一个数据集的前两个步骤都是：1.加载数据；2.查看数据。看一看这些数据，你就会知道要在图像中寻找什么，需要处理什么样的噪音或不一致性等。这可以帮助你了解图像数据集，并且明白**了解数据集是对数据进行预测的一部分**。\n",
    "\n",
    "---\n",
    "### 将输入图像可视化\n",
    "\n",
    "将这些图像可视化，并对这些图像数据进行探究！编写代码，使其可以在`IMAGE_LIST`中显示图像：\n",
    "* 显示图像\n",
    "* 输出图像的形状\n",
    "* 输出相应的标签\n",
    "\n",
    "看一看是否可以显示出每种交通信号灯图像中的至少一种，即红灯，绿灯或黄灯，并查看它们的相似之处与差异之处。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 364,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "shape: (44, 24, 3)  label: yellow\n",
      "shape: (54, 26, 3)  label: yellow\n",
      "shape: (75, 45, 3)  label: yellow\n",
      "shape: (69, 32, 3)  label: yellow\n",
      "shape: (74, 40, 3)  label: yellow\n",
      "shape: (37, 17, 3)  label: yellow\n",
      "shape: (81, 45, 3)  label: yellow\n",
      "shape: (90, 46, 3)  label: yellow\n",
      "shape: (79, 30, 3)  label: yellow\n",
      "shape: (96, 56, 3)  label: yellow\n",
      "shape: (82, 48, 3)  label: yellow\n",
      "shape: (61, 35, 3)  label: yellow\n",
      "shape: (42, 23, 3)  label: yellow\n",
      "shape: (104, 65, 3)  label: yellow\n",
      "shape: (71, 30, 3)  label: yellow\n",
      "shape: (54, 22, 3)  label: yellow\n",
      "shape: (78, 51, 3)  label: yellow\n",
      "shape: (63, 30, 3)  label: yellow\n",
      "shape: (47, 22, 3)  label: yellow\n",
      "shape: (65, 27, 3)  label: yellow\n",
      "shape: (99, 60, 3)  label: yellow\n",
      "shape: (44, 17, 3)  label: yellow\n",
      "shape: (91, 35, 3)  label: yellow\n",
      "shape: (47, 21, 3)  label: yellow\n",
      "shape: (72, 26, 3)  label: yellow\n",
      "shape: (62, 28, 3)  label: yellow\n",
      "shape: (75, 32, 3)  label: yellow\n",
      "shape: (48, 21, 3)  label: yellow\n",
      "shape: (83, 53, 3)  label: yellow\n",
      "shape: (83, 50, 3)  label: yellow\n",
      "shape: (102, 58, 3)  label: yellow\n",
      "shape: (52, 20, 3)  label: yellow\n",
      "shape: (74, 29, 3)  label: yellow\n",
      "shape: (56, 25, 3)  label: yellow\n",
      "shape: (85, 45, 3)  label: yellow\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "<matplotlib.image.AxesImage at 0x7fca586bf9b0>"
      ]
     },
     "execution_count": 364,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x7fca58883898>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "## TODO: Write code to display an image in IMAGE_LIST (try finding a yellow traffic light!)\n",
    "## TODO: Print out 1. The shape of the image and 2. The image's label\n",
    "for img in IMAGE_LIST:\n",
    "    if img[1] == \"yellow\":\n",
    "        print(\"shape:\", img[0].shape, \" label:\", img[1])\n",
    "# The first image in IMAGE_LIST is displayed below (without information about shape or label)\n",
    "selected_image = IMAGE_LIST[0][0]\n",
    "plt.imshow(selected_image)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 2. 预处理数据\n",
    "\n",
    "每个图像中加载完成后，你必须使输入和输出标准化！\n",
    "\n",
    "### 输入\n",
    "\n",
    "这意味着每个输入图像都应采用相同的格式，大小相同等。我们将通过对每个图像执行相同的分析来创建特征，对于这样的分类任务，重要的是**类似的图像创建类似的特征**！\n",
    "\n",
    "### 输出\n",
    "\n",
    "我们还需要将输出结果作为易于阅读且易于与其他标签进行比较的标签。将“红灯”和“绿灯”等分类数据转换为数字数据，这是一种不错的做法。\n",
    "\n",
    "一个非常常见的分类输出是一维列表，它是指分类数的长度：在红灯、黄灯和绿灯的情况下为3； 值为0或1表示某个图像是某一类。例如，由于我们有三个类（红灯、黄灯和绿灯），则可以按顺序列出一个列表：[红灯值，黄灯值，绿灯值]。一般来说，顺序无关紧要，在这种情况下，我们选择的顺序是[红灯值，黄灯值，绿灯值]，便于反映垂直顺序中每个灯的位置。\n",
    "\n",
    "红灯的标签应该是：[1,0,0]，黄灯应该是：[0，1，0]，绿灯应该是：[0，0，1]。这些标签被称为**独热编码标签**。\n",
    "\n",
    "*（注：使用 [机器学习算法 ](https://machinelearningmastery.com/how-to-one-hot-encode-sequence-data-in-python/)时，独热编码将尤为重要）。*\n",
    "\n",
    "<img src=\"images/processing_steps.png\" width=\"80%\" height=\"80%\">\n",
    "\n",
    "---\n",
    "<a id='task2'></a>\n",
    "### （实现）：使输入图像标准化\n",
    "\n",
    "* 将每个图像调整为所需的输入尺寸：32x32px。\n",
    "* （可选）你也可以选择在此步骤中对图像进行裁剪、移动或旋转。\n",
    "\n",
    "一种很常见的尺寸是可旋转的方形输入尺寸（且保持相同尺寸），并且以较小的方块进行分析。将所有图像制作成相同的尺寸，便于它们可以通过相同的分类器步骤进行发送，这一点也很重要！"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 365,
   "metadata": {},
   "outputs": [],
   "source": [
    "# This function should take in an RGB image and return a new, standardized version\n",
    "def standardize_input(image):\n",
    "    \n",
    "    ## TODO: Resize image and pre-process so that all \"standard\" images are the same size  \n",
    "    standard_im = np.copy(image)\n",
    "    w, h, c = standard_im.shape\n",
    "    row_crop = int(w/10)\n",
    "    col_crop = int(h/3)\n",
    "    standard_im = image[row_crop:-row_crop, col_crop:-col_crop, :]\n",
    "    standard_im = cv2.resize(standard_im, (32, 32))\n",
    "    return standard_im\n",
    "    "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 标准化输出\n",
    "\n",
    "对于每个加载的图像，我们还指定了预期的输出。为此，我们使用**独热编码**。\n",
    "\n",
    "* 对标签进行独热编码。为此，请创建一个代表每类交通信号灯（红灯、黄灯、绿灯）的零数组，并将预期类别号的索引设置为1。\n",
    "\n",
    "由于我们有三类（红灯、黄灯和绿灯）交通信号灯图像，我们已经强制使用了一个顺序：[红灯值，黄灯值，绿灯值]。对于独热编码，例如黄灯，我们首先将数组初始化为[0,0,0]，然后将中间值（黄灯值）更改为1：[0,1,0]。\n",
    "\n",
    "---\n",
    "<a id='task3'></a>\n",
    "### （实现）：实现独热编码"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 366,
   "metadata": {},
   "outputs": [],
   "source": [
    "## TODO: One hot encode an image label\n",
    "## Given a label - \"red\", \"green\", or \"yellow\" - return a one-hot encoded label\n",
    "\n",
    "# Examples: \n",
    "# one_hot_encode(\"red\") should return: [1, 0, 0]\n",
    "# one_hot_encode(\"yellow\") should return: [0, 1, 0]\n",
    "# one_hot_encode(\"green\") should return: [0, 0, 1]\n",
    "\n",
    "def one_hot_encode(label):\n",
    "    \n",
    "    ## TODO: Create a one-hot encoded label that works for all classes of traffic lights\n",
    "    one_hot_encoded = [] \n",
    "    dic_standard = {'red':[1, 0, 0], 'yellow':[0, 1, 0], 'green':[0, 0, 1]}\n",
    "    one_hot_encoded = dic_standard[label]\n",
    "    return one_hot_encoded\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "### 测试你的代码\n",
    "\n",
    "在对这样的函数完成编程之后，对它进行测试并查看它是否能够产生预期的输出。**一般来说，编写代码之后，最好在小的功能块中测试这些代码**。这样，不仅可以确保你的代码在继续构建分类器时是正确的，而且你也可以尽早地发现错误，以免它们混合。\n",
    "\n",
    "所有的测试代码都可以在文件`test_functions.py`中找到。如果你觉得有用的话，我们建议你查看该代码并添加自己的测试代码！\n",
    "\n",
    "你会在上述文件夹中看到一个测试函数：`test_one_hot(self, one_hot_function)`，它会输入一个参数，一个one_hot_encode函数，并测试该函数的函数性。如果你的one_hot_label代码无法按预期工作，则此测试将输出一条错误消息，告诉你一些关于代码失败的原因。你的代码开始运行后，应该输出TEST PASSED。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 367,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/markdown": [
       "**<span style=\"color: green;\">TEST PASSED</span>**"
      ],
      "text/plain": [
       "<IPython.core.display.Markdown object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Importing the tests\n",
    "import test_functions\n",
    "tests = test_functions.Tests()\n",
    "\n",
    "# Test for one_hot_encode function\n",
    "tests.test_one_hot(one_hot_encode)\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 构建一个输入图像并输出标签的`STANDARDIZED_LIST` 函数。\n",
    "\n",
    "该函数会输入一个图像标签对列表，并输出一个已调整过大小的图像和独热编码标签的**标准化**列表。\n",
    "\n",
    "这需要使用你在上面定义的那个函数来使输入和输出标准化，所以这些函数必须完整才能使完成这次标准化工作！"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 368,
   "metadata": {},
   "outputs": [],
   "source": [
    "def standardize(image_list):\n",
    "    \n",
    "    # Empty image data array\n",
    "    standard_list = []\n",
    "\n",
    "    # Iterate through all the image-label pairs\n",
    "    for item in image_list:\n",
    "        image = item[0]\n",
    "        label = item[1]\n",
    "\n",
    "        # Standardize the image\n",
    "        standardized_im = standardize_input(image)\n",
    "\n",
    "        # One-hot encode the label\n",
    "        one_hot_label = one_hot_encode(label)    \n",
    "\n",
    "        # Append the image, and it's one hot encoded label to the full, processed list of image data \n",
    "        standard_list.append((standardized_im, one_hot_label))\n",
    "        \n",
    "    return standard_list\n",
    "\n",
    "# Standardize all training images\n",
    "STANDARDIZED_LIST = standardize(IMAGE_LIST)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 将标准化数据可视化\n",
    "\n",
    "显示来自STANDARDIZED_LIST的标准化图像，并将其与来自IMAGE_LIST的非标准化图像进行比较。请注意，它们的尺寸和外观是不同的！"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 369,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "std: [1, 0, 0]  src: red\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "<matplotlib.image.AxesImage at 0x7fca56420438>"
      ]
     },
     "execution_count": 369,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x7fca57423ef0>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "## TODO: Display a standardized image and its label\n",
    "img_std = STANDARDIZED_LIST[0]\n",
    "img = IMAGE_LIST[0]\n",
    "print(\"std:\", img_std[1], \" src:\", img[1])\n",
    "f, (ax0, ax1) = plt.subplots(1, 2)\n",
    "ax0.imshow(img_std[0])\n",
    "ax1.imshow(img[0])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 3. 特征提取\n",
    "\n",
    "现在，你需要根据颜色空间、形状分析和特征构建方面的现有知识来创建特征，帮助区分和分类三种类型的交通信号灯图像。\n",
    "\n",
    "你需要创建至少**一项特征**（可选择创建更多特征）。必需的特征是**使用HSV颜色空间创建的亮度特征**：\n",
    "\n",
    "1. 亮度特征。\n",
    "    - 使用HSV颜色空间，创建一个特征，可用于帮你识别3种不同类别的交通信号灯。\n",
    "    - 稍后，你需要回答一个问题，即你刚刚试图用哪些方法来识别交通信号灯。所以，当你浏览这个notebook 时，需要一直思考你要使用的方法：什么方法有效，什么方法不可行？\n",
    "\n",
    "2. （可选）：创建更多特征！\n",
    "\n",
    "是否要创建更多特征，这取决于你，但是你创建的特征应该能提高交通信号灯分类算法的准确度！有一点需要注意的是，要通过这个项目，**绝不能将任何一个红灯归类为绿灯**，因为这会对无人驾驶汽车造成严重的安全风险。为了避免这种错误分类，你可以考虑添加另一个特别区分红灯和绿灯的特征。\n",
    "\n",
    "这些特征将会被合并在这个 notebook 的末尾处，从而形成一个完整的分类算法。\n",
    "\n",
    "## 创建亮度特征 \n",
    "\n",
    "创建亮度特征的方法有很多。亮度特征可以帮助你表示交通信号灯的图像特征。决定完成亮度特征创建的最佳步骤将由你来定。你应该随时查看并测试你的代码。\n",
    "\n",
    "下图是一个用于创建亮度特征（从左到右：标准化图像、HSV彩色图像、裁剪图像、亮度特征）的示例步骤：\n",
    "\n",
    "<img src=\"images/feature_ext_steps.png\" width=\"70%\" height=\"70%\">\n",
    "\n",
    "\n",
    "## RGB到HSV的转换\n",
    "\n",
    "下面，将测试图像从RGB转换为HSV颜色空间，并将每个组件显示在图像中。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 370,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Label [red, yellow, green]: [1, 0, 0]\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "<matplotlib.image.AxesImage at 0x7fca57fa9cf8>"
      ]
     },
     "execution_count": 370,
     "metadata": {},
     "output_type": "execute_result"
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x7fca556158d0>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Convert and image to HSV colorspace\n",
    "# Visualize the individual color channels\n",
    "\n",
    "image_num = 0\n",
    "test_im = STANDARDIZED_LIST[image_num][0]\n",
    "test_label = STANDARDIZED_LIST[image_num][1]\n",
    "\n",
    "# Convert to HSV\n",
    "hsv = cv2.cvtColor(test_im, cv2.COLOR_RGB2HSV)\n",
    "\n",
    "# Print image label\n",
    "print('Label [red, yellow, green]: ' + str(test_label))\n",
    "\n",
    "# HSV channels\n",
    "h = hsv[:,:,0]\n",
    "s = hsv[:,:,1]\n",
    "v = hsv[:,:,2]\n",
    "mask = cv2.inRange(v, 130 , 255)\n",
    "hsv_mask = np.copy(hsv)\n",
    "hsv_mask[mask != 255]  = 0\n",
    "# Plot the original image and the three channels\n",
    "f, (ax1, ax2, ax3, ax4, ax5, ax6) = plt.subplots(1, 6, figsize=(20,10))\n",
    "ax1.set_title('Standardized image')\n",
    "ax1.imshow(test_im)\n",
    "ax2.set_title('H channel')\n",
    "ax2.imshow(h, cmap='gray')\n",
    "ax3.set_title('S channel')\n",
    "ax3.imshow(s, cmap='gray')\n",
    "ax4.set_title('V channel')\n",
    "ax4.imshow(v, cmap='gray')\n",
    "ax5.set_title('Mask hsv')\n",
    "ax5.imshow(hsv_mask)\n",
    "ax6.set_title('Mask v')\n",
    "ax6.imshow(mask)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "---\n",
    "<a id='task7'></a>\n",
    "### （实现）：创建一个使用HSV颜色空间的亮度特征\n",
    "\n",
    "编写一个函数，它会输入一张RGB图像并返回一个一维特征矢量和/或单值，这有助于对交通信号灯图像进行分类。唯一的要求是该函数应该应用HSV颜色空间转换，其余的由你来决定。\n",
    "\n",
    "通过此函数，你应该能够判断一张图像的标签，并将其分类为红灯、绿灯或黄灯。如果辅助函数能够简化你的代码，你也可以定义几个辅助函数。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 372,
   "metadata": {},
   "outputs": [],
   "source": [
    "## TODO: Create a brightness feature that takes in an RGB image and outputs a feature vector and/or value\n",
    "## This feature should use HSV colorspace values\n",
    "def create_feature(rgb_image):\n",
    "    \n",
    "    ## TODO: Convert image to HSV color space\n",
    "    hsv = cv2.cvtColor(rgb_image,cv2.COLOR_RGB2HSV)\n",
    "    v = hsv[:,:,2]\n",
    "    w, h, c = rgb_image.shape\n",
    "    v_avg = np.sum(v) / (w * h)\n",
    "    mask = cv2.inRange(v, v_avg * 1.1, 255)\n",
    "    hsv_mask = np.copy(hsv)\n",
    "    hsv_mask = cv2.bitwise_and(hsv_mask, hsv_mask, mask = mask)\n",
    "    v_mask = hsv_mask[:, :, 2]\n",
    "        \n",
    "    ## TODO: Create and return a feature value and/or vector\n",
    "    sum_a = []\n",
    "    # Red \n",
    "    red_area = v_mask[2:10, 10:25]\n",
    "    sum_a.append(np.sum(red_area))\n",
    "    \n",
    "    #Yellow\n",
    "    yellow_area = v_mask[13:20, 10:25]\n",
    "    sum_a.append(np.sum(yellow_area))\n",
    "    \n",
    "    #Green\n",
    "    green_area = v_mask[20:30, 0:25]\n",
    "    sum_a.append(np.sum(green_area))\n",
    "    \n",
    "    index = np.argmax(sum_a)\n",
    "    feature = [0, 0, 0]\n",
    "    feature[index] = 1\n",
    "    return feature\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## （可选）创建更多特征，用于帮助准确标记交通信号灯图像"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {},
   "outputs": [],
   "source": [
    "# (Optional) Add more image analysis and create more features\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## （问题1）：你创建的特征如何帮你区分这3类交通信号灯图像？\n",
    "\n",
    "**答案：**\n",
    "\n",
    "1.将图片裁剪，去除边界，尽量使图片中只含有交通灯内容\n",
    "\n",
    "2.转换为hsv后，获取图片的平均亮度，使用平均亮度1.1倍值为最低值，对hsv图片做掩码，选出当前亮起交通灯，其他区域置黑\n",
    "\n",
    "3.取掩码后hsv图片亮度特征，分别对红、黄、绿灯区域亮度值求和，取最大值所在区域为当前交通灯颜色\n",
    "\n",
    "# 4. 进行分类，并将错误可视化\n",
    "\n",
    "使用你创建的所有特征，编写一个可以输入一张RGB图像的函数，并使用提取的特征，输出一个灯光是红色、绿色或者黄色，并将该结果作为独热编码标签。这种分类函数应该能够对任何一张交通信灯图像进行分类！\n",
    "\n",
    "我们建议你编写可能会用到的任何一种辅助函数或可视化代码，但为了测试准确度，请确保此`estimate_label`函数返回一个独热编码标签。\n",
    "\n",
    "---\n",
    "<a id='task8'></a>\n",
    "### （实现）：构建一个完整的分类器"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 373,
   "metadata": {},
   "outputs": [],
   "source": [
    "# This function should take in RGB image input\n",
    "# Analyze that image using your feature creation code and output a one-hot encoded label\n",
    "def estimate_label(rgb_image):\n",
    "    \n",
    "    ## TODO: Extract feature(s) from the RGB image and use those features to\n",
    "    ## classify the image and output a one-hot encoded label\n",
    "    predicted_label = create_feature(rgb_image)\n",
    "    return predicted_label   \n",
    "    "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 测试分类器\n",
    "\n",
    "这里，我们使用这个 notebook 开始部分的测试数据集，对你的分类算法进行测试！编写完了一个“好”的分类器后，这个项目就算是完整的。\n",
    "\n",
    "在这种案例中，一个“好”的分类器应符合以下标准（只要符合，就可以随时提交你的项目）：\n",
    "1. 分类准确度达到90％以上。\n",
    "2. 切勿将任何一个红灯归类为绿灯。\n",
    "\n",
    "### 测试数据集\n",
    "\n",
    "在下面，我们首先加载测试数据集，然后使用上面定义的`standardize`函数对其进行标准化，然后对其进行**混洗**；这样可以确保顺序不会对准确度测试造成影响。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 374,
   "metadata": {},
   "outputs": [],
   "source": [
    "# Using the load_dataset function in helpers.py\n",
    "# Load test data\n",
    "TEST_IMAGE_LIST = helpers.load_dataset(IMAGE_DIR_TEST)\n",
    "\n",
    "# Standardize the test data\n",
    "STANDARDIZED_TEST_LIST = standardize(TEST_IMAGE_LIST)\n",
    "\n",
    "# Shuffle the standardized test data\n",
    "random.shuffle(STANDARDIZED_TEST_LIST)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "## 确定准确度\n",
    "\n",
    "将你的分类算法（也称为“模型”）的输出与真实标签进行比较并确定准确度。\n",
    "\n",
    "此代码将所有错误分类的图像、其预测标签以及它们的真实标签存储在名为`MISCLASSIFIED`的列表中。此代码用于测试，*不应更改*。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 375,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Accuracy: 0.9966329966329966\n",
      "Number of misclassified images = 1 out of 297\n"
     ]
    }
   ],
   "source": [
    "# Constructs a list of misclassified images given a list of test images and their labels\n",
    "# This will throw an AssertionError if labels are not standardized (one-hot encoded)\n",
    "\n",
    "def get_misclassified_images(test_images):\n",
    "    # Track misclassified images by placing them into a list\n",
    "    misclassified_images_labels = []\n",
    "\n",
    "    # Iterate through all the test images\n",
    "    # Classify each image and compare to the true label\n",
    "    for image in test_images:\n",
    "\n",
    "        # Get true data\n",
    "        im = image[0]\n",
    "        true_label = image[1]\n",
    "        assert(len(true_label) == 3), \"The true_label is not the expected length (3).\"\n",
    "\n",
    "        # Get predicted label from your classifier\n",
    "        predicted_label = estimate_label(im)\n",
    "        assert(len(predicted_label) == 3), \"The predicted_label is not the expected length (3).\"\n",
    "\n",
    "        # Compare true and predicted labels \n",
    "        if(predicted_label != true_label):\n",
    "            # If these labels are not equal, the image has been misclassified\n",
    "            misclassified_images_labels.append((im, predicted_label, true_label))\n",
    "            \n",
    "    # Return the list of misclassified [image, predicted_label, true_label] values\n",
    "    return misclassified_images_labels\n",
    "\n",
    "\n",
    "# Find all misclassified images in a given test set\n",
    "MISCLASSIFIED = get_misclassified_images(STANDARDIZED_TEST_LIST)\n",
    "\n",
    "# Accuracy calculations\n",
    "total = len(STANDARDIZED_TEST_LIST)\n",
    "num_correct = total - len(MISCLASSIFIED)\n",
    "accuracy = num_correct/total\n",
    "\n",
    "print('Accuracy: ' + str(accuracy))\n",
    "print(\"Number of misclassified images = \" + str(len(MISCLASSIFIED)) +' out of '+ str(total))\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "---\n",
    "<a id='task9'></a>\n",
    "### 将错误分类的图像可视化\n",
    "\n",
    "将分类错误的一些图像（在`MISCLASSIFIED`列表中）可视化，并注意那些难以使它们归类的任何一个特征。这样做可以帮助你识别分类算法中的缺陷。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 376,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "[1, 0, 0] [0, 0, 1]\n"
     ]
    },
    {
     "data": {
      "image/png": "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\n",
      "text/plain": [
       "<matplotlib.figure.Figure at 0x7fca587d8e10>"
      ]
     },
     "metadata": {
      "needs_background": "light"
     },
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Visualize misclassified example(s)\n",
    "## TODO: Display an image in the `MISCLASSIFIED` list \n",
    "## TODO: Print out its predicted label - to see what the image *was* incorrectly classified as\n",
    "for i in range(0, len(MISCLASSIFIED)):\n",
    "    img = MISCLASSIFIED[i]\n",
    "    print(img[1], img[2])\n",
    "    f, (axs) = plt.subplots(1, 1, figsize=(20, 10))\n",
    "    axs.imshow(img[0])"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "---\n",
    "<a id='question2'></a>\n",
    "## （问题2）：在将这些误分类可视化之后，你认为你的分类算法存在哪些缺陷？请至少发现两个缺陷。\n",
    "\n",
    "**答案：** \n",
    "\n",
    "1.裁剪区域有时候会导致过度裁剪，容易将有用的信息裁掉。但是如果缩小裁剪区域，则会保留过多边界信息，影响分类器准确度\n",
    "\n",
    "2.如果整张图片亮度比较平均的话，也就是灯的亮度不明显，因为掩码时取得最低亮度值时经过调整后的经验值，不能准确覆盖每种情况\n",
    "\n",
    "## 测试你是否将某一个红灯归类为绿灯\n",
    "\n",
    "**要通过这个项目，你不能将任何一个红灯归类为绿灯！**将红灯分类为绿灯会将导致汽车出现闯红灯行驶的情况，因此这种“把红灯误看做是绿灯”的错误在现实世界中非常危险。\n",
    "\n",
    "下面的代码可以让你测试是否将测试集中的任何一个红灯错误归类为绿灯。**这个测试假定 `MISCLASSIFIED` 是一个元组列表，其顺序是： [misclassified_image, predicted_label, true_label]** 。\n",
    "\n",
    "注：这不是一个全面的测试，但它是一个很好的指标。如果你通过了这个测试，说明你已经掌握了这部分知识！这个测试会遍历错误分类的例子列表，并检查是否存在任何一个红灯被错误标记为[0,1,0]（绿灯）的情况。"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 377,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/markdown": [
       "**<span style=\"color: green;\">TEST PASSED</span>**"
      ],
      "text/plain": [
       "<IPython.core.display.Markdown object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "# Importing the tests\n",
    "import test_functions\n",
    "tests = test_functions.Tests()\n",
    "\n",
    "if(len(MISCLASSIFIED) > 0):\n",
    "    # Test code for one_hot_encode function\n",
    "    tests.test_red_as_green(MISCLASSIFIED)\n",
    "else:\n",
    "    print(\"MISCLASSIFIED may not have been populated with images.\")\n"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# 5. 改进你的算法！\n",
    "\n",
    "**完成所有任务并且符合以下两个标准，并回答完所有问题后，请提交你的项目：**\n",
    "1. 分类准确度超过90％；\n",
    "2. 没有将任何一个红灯归类为绿灯。\n",
    "\n",
    "如果不符合这两个要求（这在第一次尝试中很常见！），请重新查看你的算法并对其进行改进，改善光线识别 - 这可能意味着更改亮度特征，执行一些背景减除或添加其他特征！\n",
    "\n",
    "---\n",
    "\n",
    "### 接受进一步挑战（可选性挑战项目）\n",
    "\n",
    "如果你发现这个挑战项目太过容易，我建议你去挑战一些更有难度的项目！ 这里有几个**可选** 项目（意思是说，执行下面这些项目后，你不需要进行提交，也不需要必须通过这些项目）：\n",
    "* （可选）尽可能使分类准确度> 95％。\n",
    "* （可选）图像中的一些灯是带形状的，eg：箭头形状；尝试在区分灯的颜色以外，进一步将灯光的形状建模得到分类结果，圆形或箭头形。\n",
    "* （可选）添加另一个特征，尽可能使准确度接近100％！"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.3"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
